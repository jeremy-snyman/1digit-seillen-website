---
import InsightLayout from '@layouts/InsightLayout.astro';
import { getAllInsights, getInsightBySlug } from '@content/data/insights/index';

export const prerender = true;

export function getStaticPaths() {
  const articles = getAllInsights();
  return articles.map((article) => ({
    params: { slug: article.slug },
    props: { article },
  }));
}

const { article } = Astro.props;
---

<!-- Preview banner -->
<div class="fixed top-0 left-0 right-0 z-50 bg-amber-500/90 text-black text-center py-2 text-body-sm font-semibold">
  PREVIEW MODE â€” This page is not indexed
</div>

<InsightLayout article={article} />
