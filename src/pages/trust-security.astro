---
import PageLayout from '@layouts/PageLayout.astro';
import Section from '@components/layout/Section.astro';
import Container from '@components/layout/Container.astro';
import SectionHeading from '@components/ui/SectionHeading.astro';
import ScrollReveal from '@components/interactive/ScrollReveal.astro';
import GlassCard from '@components/ui/GlassCard.astro';
import Icon from '@components/ui/Icon.astro';
import Button from '@components/ui/Button.astro';
import Badge from '@components/ui/Badge.astro';
import FeatureList from '@components/content/FeatureList.astro';
import DiagramPlaceholder from '@components/content/DiagramPlaceholder.astro';
import SmokeCanvas from '@components/home/SmokeCanvas.tsx';
import {
  heroDescription,
  philosophyIntro,
  philosophyPillars,
  sdlcIntro,
  sdlcCards,
  governanceIntro,
  governancePrinciples,
  togafQuote,
  auditIntro,
  auditCapabilities,
  complianceIntro,
  complianceStandards,
  compliancePrinciples,
  aiRiskIntro,
  unsettlingReality,
  riskCards,
  controlItems,
  deliveryIntro,
  deliverySteps,
  coreStatement,
} from '@content/data/trust-security';

const title = 'Trust & Security';
const description = 'Security, governance, and compliance are not afterthoughts — they are embedded into everything we build.';
---

<PageLayout title={title} description={description}>

  {/* ══════════════════════════════════════════════
      S1 — Hero (full-viewport, SmokeCanvas)
      ══════════════════════════════════════════════ */}
  <section class="relative min-h-[90vh] flex items-center overflow-hidden">
    {/* Background layers */}
    <div class="absolute inset-0 z-0">
      <div class="absolute inset-0" style="background: radial-gradient(ellipse at 50% 40%, rgb(var(--color-surface-elevated)) 0%, rgb(var(--color-surface)) 70%);"></div>
      <SmokeCanvas client:load />
      <div class="absolute inset-0" style="background: linear-gradient(to bottom, transparent 70%, rgb(var(--color-surface)) 100%);"></div>
      {/* Ambient glow orb */}
      <div class="absolute top-1/2 left-1/3 -translate-x-1/2 -translate-y-1/2 w-[700px] h-[400px] bg-glow-steel/10 rounded-full blur-[160px] pointer-events-none ambient-glow"></div>
    </div>

    {/* Content */}
    <div class="relative z-10 px-6 w-full">
      <Container>
        <div class="max-w-3xl pt-32 pb-20">
          <ScrollReveal>
            <Badge variant="accent">TRUST & SECURITY</Badge>
          </ScrollReveal>
          <ScrollReveal delay={100}>
            <h1 class="mt-4 mb-6">
              <span class="trust-gradient-text text-display-lg lg:text-display-xl font-display block">Built for Enterprise.</span>
              <span class="trust-gradient-text text-display-lg lg:text-display-xl font-display block">Engineered for Trust.</span>
            </h1>
          </ScrollReveal>
          <ScrollReveal delay={200}>
            <p class="text-body-lg text-content-secondary max-w-2xl mb-8">
              {heroDescription}
            </p>
          </ScrollReveal>
          <ScrollReveal delay={300}>
            <div class="flex flex-col sm:flex-row gap-4">
              <Button variant="primary" size="lg" href="/contact">Discuss Your Security Requirements</Button>
              <Button variant="outline" size="lg" href="#philosophy">Explore Our Approach</Button>
            </div>
          </ScrollReveal>
        </div>
      </Container>
    </div>

    {/* Scroll indicator */}
    <div class="absolute bottom-8 left-1/2 -translate-x-1/2 z-10 flex flex-col items-center gap-2 text-content-muted">
      <span class="text-body-xs">Scroll to explore</span>
      <div class="scroll-indicator-mouse w-6 h-10 rounded-full border-2 border-content-muted/40 flex items-start justify-center p-1.5">
        <div class="scroll-indicator-dot w-1.5 h-1.5 rounded-full bg-content-muted"></div>
      </div>
    </div>
  </section>


  {/* ══════════════════════════════════════════════
      S2 — Philosophy (elevated)
      ══════════════════════════════════════════════ */}
  <Section id="philosophy" background="elevated">
    <Container>
      <ScrollReveal>
        <SectionHeading
          align="center"
          badge="OUR PHILOSOPHY"
          heading="Security Is Not an Afterthought"
          description={philosophyIntro}
        />
      </ScrollReveal>

      <div class="relative mt-12">
        {/* Ambient glow behind grid */}
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[300px] bg-glow-steel/10 rounded-full blur-[120px] pointer-events-none ambient-glow"></div>

        <div class="relative grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6">
          {philosophyPillars.map((pillar, index) => (
            <ScrollReveal delay={index * 80}>
              <GlassCard hover padding="lg" class="h-full text-center">
                <div class="w-12 h-12 rounded-xl bg-glow-steel/20 mx-auto mb-4 flex items-center justify-center">
                  <Icon name={pillar.icon} size={24} class="text-accent" />
                </div>
                <p class="text-label-md font-semibold text-content">{pillar.label}</p>
              </GlassCard>
            </ScrollReveal>
          ))}
        </div>
      </div>
    </Container>
  </Section>


  {/* ══════════════════════════════════════════════
      S3 — Secure SDLC (default)
      ══════════════════════════════════════════════ */}
  <Section>
    <Container>
      <ScrollReveal>
        <SectionHeading
          align="center"
          badge="SECURE SDLC"
          heading="Enterprise-Grade Engineering"
          description={sdlcIntro}
        />
      </ScrollReveal>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-12">
        {sdlcCards.map((card, index) => (
          <div class:list={[index === 6 && 'lg:col-start-2']}>
            <ScrollReveal delay={index * 80}>
              <GlassCard hover padding="md" class="h-full">
                <div class="flex items-start gap-4">
                  <div class="w-10 h-10 rounded-lg bg-glow-steel/20 flex items-center justify-center shrink-0">
                    <Icon name={card.icon} size={20} class="text-accent" />
                  </div>
                  <div>
                    <p class="text-label-md text-content-muted mb-1">{String(index + 1).padStart(2, '0')}</p>
                    <h3 class="text-heading-xs font-semibold mb-2">{card.title}</h3>
                    <p class="text-body-sm text-content-secondary">{card.description}</p>
                  </div>
                </div>
              </GlassCard>
            </ScrollReveal>
          </div>
        ))}
      </div>

      {/* SDLC diagram placeholder */}
      <ScrollReveal delay={600}>
        <div class="mt-12 max-w-2xl mx-auto">
          <DiagramPlaceholder
            title="SDLC Lifecycle Diagram"
            description="Minimalist circular software development lifecycle with 7 security-integrated phases"
          />
        </div>
      </ScrollReveal>
    </Container>
  </Section>


  {/* ══════════════════════════════════════════════
      S4 — Governance by Design (elevated)
      ══════════════════════════════════════════════ */}
  <Section background="elevated">
    <Container>
      <ScrollReveal>
        <SectionHeading
          align="center"
          badge="GOVERNANCE"
          heading="Governance by Design"
          description={governanceIntro}
        />
      </ScrollReveal>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-start mt-12">
        {/* Left: Governance principles */}
        <ScrollReveal delay={100}>
          <div class="space-y-4">
            {governancePrinciples.map((principle) => (
              <div class="flex items-start gap-4">
                <div class="w-10 h-10 rounded-lg bg-glow-steel/20 flex items-center justify-center shrink-0">
                  <Icon name={principle.icon} size={20} class="text-accent" />
                </div>
                <div>
                  <h3 class="text-heading-xs font-semibold mb-1">{principle.title}</h3>
                  <p class="text-body-sm text-content-secondary">{principle.description}</p>
                </div>
              </div>
            ))}
          </div>
        </ScrollReveal>

        {/* Right: Diagram placeholder */}
        <ScrollReveal delay={200}>
          <div class="relative">
            <div class="absolute -inset-4 bg-glow-steel/10 rounded-card blur-2xl"></div>
            <DiagramPlaceholder
              title="Governance Framework"
              description="Enterprise governance pyramid with 5 layers — accountability, data flow, and architectural integrity"
              class="relative min-h-[300px]"
            />
          </div>
        </ScrollReveal>
      </div>

      {/* TOGAF pull-quote */}
      <ScrollReveal delay={400}>
        <div class="mt-12 max-w-2xl mx-auto">
          <div class="border-l-2 border-glow-blue/40 pl-8">
            <p class="text-label-md text-content-muted uppercase tracking-wider mb-2">Framework Alignment</p>
            <p class="text-body-lg text-content">{togafQuote}</p>
          </div>
        </div>
      </ScrollReveal>

      {/* Auditability sub-section */}
      <div class="mt-20">
        <ScrollReveal>
          <div class="text-center mb-8">
            <h3 class="text-display-md font-display">Auditability by Default</h3>
            <p class="mt-4 text-body-lg text-content-secondary max-w-2xl mx-auto">{auditIntro}</p>
          </div>
        </ScrollReveal>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          {auditCapabilities.map((cap, index) => (
            <ScrollReveal delay={index * 80}>
              <GlassCard hover padding="md" class="h-full">
                <div class="w-10 h-10 rounded-lg bg-glow-steel/20 flex items-center justify-center mb-3">
                  <Icon name={cap.icon} size={20} class="text-accent" />
                </div>
                <h4 class="text-heading-xs font-semibold mb-2">{cap.title}</h4>
                <p class="text-body-sm text-content-secondary">{cap.description}</p>
              </GlassCard>
            </ScrollReveal>
          ))}
        </div>

        {/* Audit trail diagram placeholder */}
        <ScrollReveal delay={500}>
          <div class="mt-12 max-w-2xl mx-auto">
            <DiagramPlaceholder
              title="Audit Trail Visualization"
              description="Data lineage diagram showing interconnected nodes with version timestamps — flowing left to right"
            />
          </div>
        </ScrollReveal>
      </div>
    </Container>
  </Section>


  {/* ══════════════════════════════════════════════
      S5 — Compliance Familiarity (default)
      ══════════════════════════════════════════════ */}
  <Section>
    <Container>
      <ScrollReveal>
        <SectionHeading
          align="center"
          badge="COMPLIANCE"
          heading="Compliance Familiarity"
          description={complianceIntro}
        />
      </ScrollReveal>

      <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mt-12">
        {complianceStandards.map((standard, index) => (
          <ScrollReveal delay={index * 100}>
            <GlassCard hover padding="lg" class="h-full">
              <div class="flex items-start gap-4">
                <div class="w-12 h-12 rounded-xl bg-glow-steel/20 flex items-center justify-center shrink-0">
                  <Icon name="shield" size={24} class="text-accent" />
                </div>
                <div>
                  <h3 class="text-heading-sm font-semibold mb-2">{standard.title}</h3>
                  <p class="text-body-sm text-content-secondary">{standard.description}</p>
                </div>
              </div>
            </GlassCard>
          </ScrollReveal>
        ))}
      </div>

      {/* Design Principles card */}
      <div class="relative mt-12">
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[300px] bg-glow-steel/10 rounded-full blur-[120px] pointer-events-none ambient-glow"></div>

        <ScrollReveal delay={500}>
          <GlassCard padding="lg" class="relative max-w-2xl mx-auto">
            <h3 class="text-heading-sm font-semibold mb-4 text-center">Design Principles</h3>
            <FeatureList items={compliancePrinciples} />
          </GlassCard>
        </ScrollReveal>
      </div>

      {/* Compliance shield placeholder */}
      <ScrollReveal delay={600}>
        <div class="mt-12 max-w-2xl mx-auto">
          <DiagramPlaceholder
            title="Compliance Standards"
            description="Four overlapping translucent shield shapes — certification seals with premium enterprise aesthetic"
          />
        </div>
      </ScrollReveal>
    </Container>
  </Section>


  {/* ══════════════════════════════════════════════
      S6 — AI-Specific Risk Controls (elevated)
      ══════════════════════════════════════════════ */}
  <Section background="elevated">
    <Container>
      <ScrollReveal>
        <SectionHeading
          align="center"
          badge="AI RISK"
          heading="AI-Specific Risk Controls"
          description={aiRiskIntro}
        />
      </ScrollReveal>

      {/* "The Unsettling Reality" callout */}
      <ScrollReveal delay={200}>
        <div class="mt-12 max-w-2xl mx-auto">
          <GlassCard padding="lg">
            <div class="flex items-start gap-4">
              <div class="w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center shrink-0">
                <Icon name="zap" size={20} class="text-red-400" />
              </div>
              <div>
                <p class="text-label-md text-red-400 uppercase tracking-wider mb-2">The Unsettling Reality</p>
                <p class="text-body-lg text-content">{unsettlingReality}</p>
              </div>
            </div>
          </GlassCard>
        </div>
      </ScrollReveal>

      {/* 6 risk cards */}
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-12">
        {riskCards.map((card, index) => (
          <ScrollReveal delay={index * 80}>
            <GlassCard hover padding="md" class="h-full">
              <div class="w-10 h-10 rounded-lg bg-glow-steel/20 flex items-center justify-center mb-3">
                <Icon name={card.icon} size={20} class="text-accent" />
              </div>
              <h3 class="text-heading-xs font-semibold mb-2">{card.title}</h3>
              <p class="text-body-sm text-content-secondary">{card.description}</p>
            </GlassCard>
          </ScrollReveal>
        ))}
      </div>

      {/* Our Controls pull-quote */}
      <ScrollReveal delay={600}>
        <div class="mt-12 max-w-3xl mx-auto">
          <div class="border-l-2 border-glow-blue/40 pl-8">
            <p class="text-label-md text-content-muted uppercase tracking-wider mb-4">Our Controls</p>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
              {controlItems.map((item) => (
                <div class="flex items-start gap-3 text-body-md text-content-secondary">
                  <div class="w-5 h-5 rounded-full bg-surface-subtle flex items-center justify-center mt-0.5 shrink-0">
                    <Icon name="check" size={12} class="text-glow-blue" />
                  </div>
                  <span>{item.text}</span>
                </div>
              ))}
            </div>
          </div>
        </div>
      </ScrollReveal>

      {/* AI risk neural network placeholder */}
      <ScrollReveal delay={700}>
        <div class="mt-12 max-w-2xl mx-auto">
          <DiagramPlaceholder
            title="AI Risk Landscape"
            description="Neural network with threat vectors — containment boundaries and risk highlights"
          />
        </div>
      </ScrollReveal>
    </Container>
  </Section>


  {/* ══════════════════════════════════════════════
      S7 — Enterprise Delivery Experience (default)
      ══════════════════════════════════════════════ */}
  <Section>
    <Container>
      <ScrollReveal>
        <SectionHeading
          align="center"
          badge="ENTERPRISE DELIVERY"
          heading="Enterprise Delivery Experience"
          description={deliveryIntro}
        />
      </ScrollReveal>

      <div class="max-w-3xl mx-auto mt-12 space-y-6">
        {deliverySteps.map((step, index) => (
          <ScrollReveal delay={index * 100}>
            <GlassCard hover padding="lg" class="relative overflow-hidden">
              {/* Giant decorative background number */}
              <span class="absolute bottom-0 right-4 text-[8rem] font-bold leading-none text-tint/4 select-none pointer-events-none">
                {step.number}
              </span>

              <div class="relative flex items-start gap-5">
                <div class="w-12 h-12 rounded-xl bg-glow-steel/20 flex items-center justify-center shrink-0">
                  <Icon name={step.icon} size={24} class="text-accent" />
                </div>
                <div>
                  <p class="text-label-md text-content-muted mb-1">{step.number}</p>
                  <h3 class="text-heading-sm font-semibold mb-2">{step.title}</h3>
                  <p class="text-body-md text-content-secondary">{step.description}</p>
                </div>
              </div>
            </GlassCard>
          </ScrollReveal>
        ))}
      </div>

      {/* Enterprise delivery placeholder */}
      <ScrollReveal delay={600}>
        <div class="mt-12 max-w-2xl mx-auto">
          <DiagramPlaceholder
            title="Enterprise Delivery Process"
            description="Multi-stakeholder governance review — connected organizational roles with steel blue tones"
          />
        </div>
      </ScrollReveal>
    </Container>
  </Section>


  {/* ══════════════════════════════════════════════
      S8 — Closing CTA (elevated)
      ══════════════════════════════════════════════ */}
  <Section background="elevated">
    <Container>
      <div class="relative text-center max-w-3xl mx-auto">
        {/* Ambient glow orb */}
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[300px] bg-glow-steel/10 rounded-full blur-[120px] pointer-events-none ambient-glow"></div>

        <ScrollReveal>
          <p class="relative text-display-md lg:text-display-lg font-display">
            {coreStatement}
          </p>
        </ScrollReveal>
        <ScrollReveal delay={200}>
          <div class="relative mt-10 flex flex-col sm:flex-row gap-4 justify-center">
            <Button variant="primary" size="lg" href="/contact">Discuss Your Security Requirements</Button>
            <Button variant="outline" size="lg" href="/what-we-do">Explore Our Capabilities</Button>
          </div>
        </ScrollReveal>
      </div>
    </Container>
  </Section>

</PageLayout>

<style>
  /* Radial gradient text fill for hero heading */
  .trust-gradient-text {
    background: radial-gradient(ellipse at 50% 40%, rgb(228 233 242) 0%, rgb(190 205 225 / 0.6) 60%, rgb(80 100 130 / 0.3) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Light theme: darker gradient for readability */
  :global([data-theme="light"]) .trust-gradient-text {
    background: radial-gradient(ellipse at 50% 40%, rgb(15 20 40) 0%, rgb(40 50 80 / 0.8) 60%, rgb(80 90 120 / 0.5) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Scroll indicator bounce */
  .scroll-indicator-mouse {
    animation: bounce-subtle 2s ease-in-out infinite;
  }
</style>
