---
import PageLayout from '@layouts/PageLayout.astro';
import Section from '@components/layout/Section.astro';
import Container from '@components/layout/Container.astro';
import SectionHeading from '@components/ui/SectionHeading.astro';
import ScrollReveal from '@components/interactive/ScrollReveal.astro';
import GlassCard from '@components/ui/GlassCard.astro';
import Icon from '@components/ui/Icon.astro';
import Button from '@components/ui/Button.astro';
import Badge from '@components/ui/Badge.astro';
import FeatureList from '@components/content/FeatureList.astro';
import DiagramPlaceholder from '@components/content/DiagramPlaceholder.astro';
import StatHighlight from '@components/content/StatHighlight.astro';
import SmokeCanvas from '@components/home/SmokeCanvas.tsx';
import {
  heroDescription,
  problemIntro,
  painPoints,
  problemResult,
  problemFollowup,
  coreFunctionsIntro,
  coreFunctions,
  architectureIntro,
  architectureLayers,
  architectureCallout,
  performanceIntro,
  performanceStats,
  performanceCallout,
  deploymentOptions,
  deploymentClosing,
  coreStatement,
} from '@content/data/tachyon';

const title = 'Tachyon';
const description = 'High-throughput data structuring and activation platform. Unify, govern, and activate enterprise data at speed.';
---

<PageLayout title={title} description={description}>

  {/* ══════════════════════════════════════════════
      S1 — Hero (full-viewport, SmokeCanvas)
      ══════════════════════════════════════════════ */}
  <section class="relative min-h-[90vh] flex items-center overflow-hidden">
    {/* Background layers */}
    <div class="absolute inset-0 z-0">
      <div class="absolute inset-0" style="background: radial-gradient(ellipse at 50% 40%, rgb(var(--color-surface-elevated)) 0%, rgb(var(--color-surface)) 70%);"></div>
      <SmokeCanvas client:load />
      <div class="absolute inset-0" style="background: linear-gradient(to bottom, transparent 70%, rgb(var(--color-surface)) 100%);"></div>
      {/* Ambient glow orb */}
      <div class="absolute top-1/2 left-1/3 -translate-x-1/2 -translate-y-1/2 w-[700px] h-[400px] bg-glow-steel/10 rounded-full blur-[160px] pointer-events-none ambient-glow"></div>
    </div>

    {/* Content */}
    <div class="relative z-10 px-6 w-full">
      <Container>
        <div class="max-w-3xl pt-32 pb-20">
          <ScrollReveal>
            <Badge variant="accent">PRODUCT</Badge>
          </ScrollReveal>
          <ScrollReveal delay={100}>
            <h1 class="mt-4 mb-2">
              <span class="tachyon-gradient-text text-display-xl font-display block">Tachyon</span>
            </h1>
            <p class="text-heading-lg text-content-secondary mb-6">
              High-Throughput Data Structuring &amp; Activation Platform
            </p>
          </ScrollReveal>
          <ScrollReveal delay={200}>
            <p class="text-body-lg text-content-secondary max-w-2xl mb-8">
              {heroDescription}
            </p>
          </ScrollReveal>
          <ScrollReveal delay={300}>
            <div class="flex flex-col sm:flex-row gap-4">
              <Button variant="primary" size="lg" href="/contact">Book a Tachyon Walkthrough</Button>
              <Button variant="outline" size="lg" href="/data-platforms">View Our Platforms</Button>
            </div>
          </ScrollReveal>
        </div>
      </Container>
    </div>

    {/* Scroll indicator */}
    <div class="absolute bottom-8 left-1/2 -translate-x-1/2 z-10 flex flex-col items-center gap-2 text-content-muted">
      <span class="text-body-xs">Scroll to explore</span>
      <div class="scroll-indicator-mouse w-6 h-10 rounded-full border-2 border-content-muted/40 flex items-start justify-center p-1.5">
        <div class="scroll-indicator-dot w-1.5 h-1.5 rounded-full bg-content-muted"></div>
      </div>
    </div>
  </section>


  {/* ══════════════════════════════════════════════
      S2 — The Problem (elevated)
      ══════════════════════════════════════════════ */}
  <Section background="elevated">
    <Container>
      <ScrollReveal>
        <SectionHeading
          align="center"
          badge="THE PROBLEM"
          heading="Why Enterprise Data Fails Downstream"
          description={problemIntro}
        />
      </ScrollReveal>

      {/* 6-card grid */}
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-12">
        {painPoints.map((point, index) => (
          <ScrollReveal delay={index * 80}>
            <GlassCard hover padding="md" class="h-full">
              <div class="flex items-start gap-4">
                <div class="w-10 h-10 rounded-lg bg-glow-steel/20 flex items-center justify-center shrink-0">
                  <Icon name={point.icon} size={20} class="text-accent" />
                </div>
                <div>
                  <p class="text-label-md text-content-muted mb-1">{String(index + 1).padStart(2, '0')}</p>
                  <h3 class="text-heading-xs font-semibold mb-2">{point.title}</h3>
                  <p class="text-body-sm text-content-secondary">{point.description}</p>
                </div>
              </div>
            </GlassCard>
          </ScrollReveal>
        ))}
      </div>

      {/* Pull quote */}
      <ScrollReveal delay={500}>
        <div class="mt-12 max-w-2xl mx-auto">
          <div class="border-l-2 border-glow-blue/40 pl-8">
            <p class="text-label-md text-content-muted uppercase tracking-wider mb-2">The Result</p>
            <p class="text-body-lg text-content">{problemResult}</p>
            <p class="text-body-md text-content-secondary mt-3">{problemFollowup}</p>
          </div>
        </div>
      </ScrollReveal>
    </Container>
  </Section>


  {/* ══════════════════════════════════════════════
      S3 — What Tachyon Does (4 Core Functions)
      ══════════════════════════════════════════════ */}
  <Section>
    <Container>
      <ScrollReveal>
        <SectionHeading
          align="center"
          badge="WHAT TACHYON DOES"
          heading="Four Functions. One Unified Platform."
          description={coreFunctionsIntro}
        />
      </ScrollReveal>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mt-12">
        {coreFunctions.map((fn, index) => (
          <ScrollReveal delay={index * 120}>
            <GlassCard hover padding="lg" class="relative overflow-hidden h-full">
              {/* Giant decorative background number */}
              <span class="absolute bottom-0 right-4 text-[8rem] font-bold leading-none text-tint/4 select-none pointer-events-none">
                {fn.number}
              </span>

              <div class="relative">
                {/* Header */}
                <div class="flex items-start gap-4 mb-4">
                  <div class="w-10 h-10 rounded-lg bg-glow-steel/20 flex items-center justify-center shrink-0">
                    <Icon name={fn.icon} size={20} class="text-accent" />
                  </div>
                  <div>
                    <p class="text-label-md text-content-muted mb-1">{fn.number}</p>
                    <h3 class="text-heading-sm font-semibold">{fn.title}</h3>
                    <p class="text-body-sm text-accent mt-1">{fn.tagline}</p>
                  </div>
                </div>

                {/* Divider */}
                <div class="border-t border-surface-border my-5"></div>

                {/* Image placeholder */}
                <div class="border-2 border-dashed border-surface-border rounded-card p-6 flex flex-col items-center justify-center text-center aspect-[16/9] mb-5">
                  <Icon name={fn.icon} size={32} class="text-content-muted mb-2" />
                  <p class="text-body-sm text-content-muted">AI-generated visual coming soon</p>
                </div>

                {/* Feature list */}
                <FeatureList items={fn.features} />

                {/* Bottom note */}
                <p class="text-body-sm text-content-muted mt-4 pt-4 border-t border-surface-border/50">
                  {fn.note}
                </p>
              </div>
            </GlassCard>
          </ScrollReveal>
        ))}
      </div>
    </Container>
  </Section>


  {/* ══════════════════════════════════════════════
      S4 — Architecture Overview (elevated)
      ══════════════════════════════════════════════ */}
  <Section background="elevated">
    <Container>
      <ScrollReveal>
        <SectionHeading
          align="center"
          badge="ARCHITECTURE"
          heading="Five-Layer Platform Architecture"
          description={architectureIntro}
        />
      </ScrollReveal>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-start mt-12">
        {/* Left: Diagram placeholder */}
        <ScrollReveal delay={100}>
          <div class="relative">
            <div class="absolute -inset-4 bg-glow-steel/10 rounded-card blur-2xl"></div>
            <DiagramPlaceholder
              title="Architecture Diagram"
              description="Five-layer Tachyon architecture — SVG-ready"
              class="relative min-h-[300px]"
            />
          </div>
        </ScrollReveal>

        {/* Right: Stacked 5-layer blocks */}
        <ScrollReveal delay={200}>
          <div class="space-y-3">
            {architectureLayers.map((layer, i) => (
              <div class:list={[
                'arch-layer relative px-6 py-4 rounded-card font-medium text-body-md border cursor-default',
                i === 0 && 'bg-glow-steel/20 text-accent border-glow-steel/30',
                i === 1 && 'bg-tint/8 text-content border-surface-border',
                i === 2 && 'bg-tint/6 text-content border-surface-border',
                i === 3 && 'bg-tint/4 text-content-secondary border-surface-border',
                i === 4 && 'bg-surface-overlay text-content-muted border-surface-border',
              ]}>
                <p class="font-semibold">{layer.name}</p>
                <p class="text-body-sm text-content-muted mt-1">{layer.description}</p>
                {i < architectureLayers.length - 1 && (
                  <div class="absolute -bottom-3 left-1/2 -translate-x-1/2 z-10">
                    <Icon name="chevron-right" size={16} class="text-content-muted rotate-90" />
                  </div>
                )}
              </div>
            ))}
          </div>
        </ScrollReveal>
      </div>

      <ScrollReveal delay={400}>
        <p class="text-body-lg text-content-secondary text-center mt-12 max-w-2xl mx-auto">
          {architectureCallout}
        </p>
      </ScrollReveal>
    </Container>
  </Section>


  {/* ══════════════════════════════════════════════
      S5 — Performance Characteristics (default)
      ══════════════════════════════════════════════ */}
  <Section>
    <Container>
      <ScrollReveal>
        <SectionHeading
          align="center"
          badge="PERFORMANCE"
          heading="Built for Enterprise Scale"
          description={performanceIntro}
        />
      </ScrollReveal>

      <div class="relative mt-12">
        {/* Ambient glow behind stats */}
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[300px] bg-glow-steel/10 rounded-full blur-[120px] pointer-events-none ambient-glow"></div>

        <div class="relative grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
          {performanceStats.map((stat, index) => (
            <ScrollReveal delay={index * 100}>
              <GlassCard padding="lg" class="h-full">
                <StatHighlight
                  value={stat.value}
                  label={stat.label}
                  description={stat.description}
                />
              </GlassCard>
            </ScrollReveal>
          ))}
        </div>
      </div>

      <ScrollReveal delay={500}>
        <p class="text-body-lg text-content-secondary text-center mt-12 max-w-2xl mx-auto">
          {performanceCallout}
        </p>
      </ScrollReveal>
    </Container>
  </Section>


  {/* ══════════════════════════════════════════════
      S6 — Deployment Options (elevated)
      ══════════════════════════════════════════════ */}
  <Section background="elevated">
    <Container>
      <ScrollReveal>
        <SectionHeading
          align="center"
          badge="DEPLOYMENT"
          heading="Run Anywhere"
        />
      </ScrollReveal>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-12">
        {deploymentOptions.map((option, index) => (
          <ScrollReveal delay={index * 100}>
            <GlassCard hover padding="lg" class="h-full">
              <div class="w-12 h-12 rounded-xl bg-glow-steel/20 flex items-center justify-center mb-4">
                <Icon name={option.icon} size={24} class="text-accent" />
              </div>
              <h3 class="text-heading-xs font-semibold mb-2">{option.title}</h3>
              <p class="text-body-md text-content-secondary">{option.description}</p>
            </GlassCard>
          </ScrollReveal>
        ))}
      </div>

      <ScrollReveal delay={600}>
        <p class="text-body-lg text-content-secondary text-center mt-12 max-w-2xl mx-auto">
          {deploymentClosing}
        </p>
      </ScrollReveal>
    </Container>
  </Section>


  {/* ══════════════════════════════════════════════
      S7 — Core Statement / CTA (default)
      ══════════════════════════════════════════════ */}
  <Section>
    <Container>
      <div class="relative text-center max-w-3xl mx-auto">
        {/* Ambient glow orb */}
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[300px] bg-glow-steel/10 rounded-full blur-[120px] pointer-events-none ambient-glow"></div>

        <ScrollReveal>
          <p class="relative text-display-md lg:text-display-lg font-display">
            {coreStatement}
          </p>
        </ScrollReveal>
        <ScrollReveal delay={200}>
          <div class="relative mt-10 flex flex-col sm:flex-row gap-4 justify-center">
            <Button variant="primary" size="lg" href="/contact">Book a Tachyon Walkthrough</Button>
            <Button variant="outline" size="lg" href="/smart-lakehouse-ionos">Explore Smart Lakehouse</Button>
          </div>
        </ScrollReveal>
      </div>
    </Container>
  </Section>

</PageLayout>

<style>
  /* Radial gradient text fill on hero "Tachyon" */
  .tachyon-gradient-text {
    background: radial-gradient(ellipse at 50% 40%, rgb(228 233 242) 0%, rgb(190 205 225 / 0.6) 60%, rgb(80 100 130 / 0.3) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Scroll indicator bounce */
  .scroll-indicator-mouse {
    animation: bounce-subtle 2s ease-in-out infinite;
  }

  /* Architecture layer hover */
  .arch-layer {
    transition: transform 0.25s ease, box-shadow 0.25s ease;
  }
  .arch-layer:hover {
    transform: translateX(4px);
    box-shadow: -4px 0 16px rgb(var(--color-glow-steel) / 0.3);
  }
</style>
