---
interface Props {
  speed?: number;
  direction?: 'left' | 'right';
  pauseOnHover?: boolean;
  class?: string;
}
const { speed = 30, direction = 'left', pauseOnHover = true, class: className } = Astro.props;
---

<div class:list={['marquee-container overflow-hidden w-full', pauseOnHover && 'marquee-hover-pause', className]}>
  <div
    class="marquee-track flex w-max"
    style={`animation: ${direction === 'right' ? 'marquee-reverse' : 'marquee'} ${speed}s linear infinite;`}
  >
    <div class="marquee-content flex items-center gap-12 px-6">
      <slot />
    </div>
    <div class="marquee-content flex items-center gap-12 px-6" aria-hidden="true">
      <slot />
    </div>
  </div>
</div>

<style>
  .marquee-hover-pause:hover .marquee-track {
    animation-play-state: paused;
  }
  @media (prefers-reduced-motion: reduce) {
    .marquee-track {
      animation: none !important;
    }
  }
</style>
